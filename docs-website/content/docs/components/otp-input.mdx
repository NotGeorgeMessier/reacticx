---
title: OTP Input
description: OTP Input component for React Native.
links:
  source: https://raw.githubusercontent.com/rit3zh/glow-ui/refs/heads/main/src/components/moleclues/Breadcrumbs/BreadcrumbsList.tsx
---

import { FaReact } from "react-icons/fa";
import { SiTypescript } from "react-icons/si";
import { SiNpm } from "react-icons/si";
import { TbManualGearbox } from "react-icons/tb";
import { FaCode } from "react-icons/fa6";
import {
  Tab,
  Tabs,
  TabsList,
  TabsTrigger,
  TabsContent,
} from "fumadocs-ui/components/tabs";
import { Accordion, Accordions } from "fumadocs-ui/components/accordion";
import { TypeTable } from "fumadocs-ui/components/type-table";

<div className="flex justify-center items-center my-8">
  <video
            src="/static/media/inputexample.mp4"
    autoPlay
    muted
    loop
    className="rounded-2xl"
    style={{ width: "40%",  height: "auto" }}
  />

</div>

### Installation

<Tabs defaultValue="tab-1">
<TabsList>
    <TabsTrigger value="tab-1">
      <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>
        <SiNpm />
        <span>NPM</span>
      </div>

    </TabsTrigger>

    <TabsTrigger value="tab-2">
      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 8}}>
      <TbManualGearbox />
      <span>
        Manual
        </span>
      </div>
    </TabsTrigger>

  </TabsList>

{" "}

<TabsContent value="tab-1">

```bash
npx rn-glow add otp-input
```

## üî¢ `IOtpInput`

<TypeTable
  type={{
    otpCount: {
      description: "üî¢ Total number of OTP input boxes.",
      type: "number",
      required: true,
    },
    containerStyle: {
      description: "üì¶ Style for the OTP input container.",
      type: "StyleProp<ViewStyle>",
    },
    otpInputStyle: {
      description: "üé® Style for each OTP input box.",
      type: "StyleProp<TextStyle>",
    },
    textStyle: {
      description: "üñã Style for the input text inside each box.",
      type: "StyleProp<TextStyle>",
    },
    focusedColor: {
      description: "üéØ Border color when the input is focused.",
      type: "string",
    },
    inputWidth: {
      description: "üìè Width of each OTP input box.",
      type: "number",
    },
    inputHeight: {
      description: "üìê Height of each OTP input box.",
      type: "number",
    },
    inputBorderRadius: {
      description: "üü¶ Border radius for input boxes.",
      type: "number",
    },
    enableAutoFocus: {
      description: "üîÅ Automatically focus the first input.",
      type: "boolean",
    },
    editable: {
      description: "‚úèÔ∏è Whether the input is editable.",
      type: "boolean",
    },
    onInputFinished: {
      description: "‚úÖ Callback when all input boxes are filled.",
      type: "(code: string) => void",
    },
    onInputChange: {
      description: "üì≤ Callback on every input change.",
      type: "(codes: string) => void",
    },
    enteringAnimated: {
      description: "üéûÔ∏è Animation used when input enters.",
      type: "typeof LinearTransition",
    },
    exitingAnimated: {
      description: "üéûÔ∏è Animation used when input exits.",
      type: "typeof LinearTransition",
    },
    error: {
      description: "‚ùå Flag indicating error state.",
      type: "boolean",
    },
    errorMessage: {
      description: "‚ö†Ô∏è Error message to display.",
      type: "string",
    },
  }}
/>

## üß† `OtpContextProps`

<TypeTable
  type={{
    inputRef: {
      description: "üîó Ref to all input elements.",
      type: "React.MutableRefObject\<any\[]>",
      required: true,
    },
    otpValue: {
      description: "üî¢ Array of current OTP values.",
      type: "string\[]",
      required: true,
    },
    onPress: {
      description: "üëÜ Handler for input press action.",
      type: "() => void",
      required: true,
    },
    onFocusNext: {
      description: "‚û°Ô∏è Moves focus to next input.",
      type: "(value: string, index: number) => void",
      required: true,
    },
    onFocusPrevious: {
      description: "‚¨ÖÔ∏è Moves focus to previous input.",
      type: "(key: string, index: number) => void",
      required: true,
    },
    setFocus: {
      description: "üéØ Setter to control which input is focused.",
      type: "React.Dispatch\<React.SetStateAction<number>>",
      required: true,
    },
    setOtpValue: {
      description: "üß¨ Setter for OTP value state.",
      type: "React.Dispatch\<React.SetStateAction\<string\[]>>",
      required: true,
    },
    focus: {
      description: "üìç Current focused input index.",
      type: "number",
      required: true,
    },
    autoFocus: {
      description: "‚ö° Whether auto focus is enabled.",
      type: "boolean",
      required: true,
    },
    currentIndex: {
      description: "üìå Index of the input currently being interacted with.",
      type: "number",
      required: true,
    },
    rest: {
      description: "‚ûï Additional TextInput props.",
      type: "TextInputProps",
    },
    otpCount: {
      description: "üî¢ Total number of OTP input boxes.",
      type: "number",
      required: true,
    },
    containerStyle: {
      description: "üì¶ Style for the OTP input container.",
      type: "StyleProp<ViewStyle>",
    },
    otpInputStyle: {
      description: "üé® Style for each OTP input box.",
      type: "StyleProp<TextStyle>",
    },
    textStyle: {
      description: "üñã Style for the input text inside each box.",
      type: "StyleProp<TextStyle>",
    },
    focusedColor: {
      description: "üéØ Border color when the input is focused.",
      type: "string",
    },
    inputWidth: {
      description: "üìè Width of each OTP input box.",
      type: "number",
    },
    inputHeight: {
      description: "üìê Height of each OTP input box.",
      type: "number",
    },
    inputBorderRadius: {
      description: "üü¶ Border radius for input boxes.",
      type: "number",
    },
    enableAutoFocus: {
      description: "üîÅ Automatically focus the first input.",
      type: "boolean",
    },
    editable: {
      description: "‚úèÔ∏è Whether the input is editable.",
      type: "boolean",
    },
    onInputFinished: {
      description: "‚úÖ Callback when all input boxes are filled.",
      type: "(code: string) => void",
    },
    onInputChange: {
      description: "üì≤ Callback on every input change.",
      type: "(codes: string) => void",
    },
    enteringAnimated: {
      description: "üéûÔ∏è Animation used when input enters.",
      type: "typeof LinearTransition",
    },
    exitingAnimated: {
      description: "üéûÔ∏è Animation used when input exits.",
      type: "typeof LinearTransition",
    },
    error: {
      description: "‚ùå Flag indicating error state.",
      type: "boolean",
    },
    errorMessage: {
      description: "‚ö†Ô∏è Error message to display.",
      type: "string",
    },
  }}
/>

      </TabsContent>

  <TabsContent value="tab-2">

<Accordions type="multiple">
  <Accordion title="OtpInput.tsx">
      ```tsx
      import { OtpItem } from "./children/OTPItem";
import { OtpContext } from "./context";
import React, { useEffect, useRef, useState } from "react";
import { TextInput, Text } from "react-native";
import Animated, {
  useSharedValue,
  useAnimatedStyle,
  withTiming,
  withSequence,
  withRepeat,
  FadeInDown,
  FadeOutDown,
} from "react-native-reanimated";
import type { IOtpInput, OtpContextProps } from "./types";
import { otpInputStyles as styles } from "./styles";

export const OtpInput = ({
  otpCount = 6,
  containerStyle = {},
  otpInputStyle = {},
  textStyle = {},
  focusedColor = "#f8fafc",

editable = true,
enteringAnimated = FadeInDown,
exitingAnimated = FadeOutDown,
onInputFinished,
onInputChange,
error = false,
errorMessage = "Invalid OTP. Please try again.",
inputBorderRadius = 20,
inputWidth = 60,
inputHeight = 60,
...rest
}: IOtpInput) => {
const inputRef = useRef<any[]>([]);
const data: string[] = new Array(otpCount).fill("");
inputRef.current = data.map(
(\_, index) => (inputRef.current[index] = React.createRef<TextInput>()),
);
const [focus, setFocus] = useState<number>(0);
const [otpValue, setOtpValue] = useState<string[]>(data);

const opacity = useSharedValue(1);
const translateX = useSharedValue(0);

const onPress = () => {
if (focus === -1) {
setFocus(otpCount - 1);
otpValue[data.length - 1] = "";
setOtpValue([...otpValue]);
inputRef.current[data.length - 1].current.focus();
} else {
inputRef.current[focus].current.focus();
}
};

const onFocusNext = (value: string, index: number) => {
if (index < data.length - 1 && value) {
inputRef.current[index + 1].current.focus();
setFocus(index + 1);
}
if (index === data.length - 1) {
setFocus(-1);
inputRef.current[index].current.blur();
}
otpValue[index] = value;
setOtpValue([...otpValue]);
};

const onFocusPrevious = (key: string, index: number) => {
if (key === "Backspace" && index !== 0) {
inputRef.current[index - 1].current.focus();
setFocus(index - 1);
otpValue[index - 1] = "";
setOtpValue([...otpValue]);
} else if (key === "Backspace" && index === 0) {
otpValue[0] = "";
}
};

if (otpCount < 4 && otpCount > 6) {
throw "OTP Count min is 4 and max is 6";
}

const animatedContainerStyle = useAnimatedStyle(() => {
return {
opacity: opacity.value,
transform: [{ translateX: translateX.value }],
};
});

const triggerCompleteAnimation = () => {
opacity.value = withTiming(0.6, { duration: 100 });
opacity.value = withTiming(1, { duration: 100 });
};

const triggerShakeAnimation = () => {
translateX.value = withSequence(
withTiming(-4, { duration: 80 }),
withTiming(4, { duration: 80 }),
withTiming(-3, { duration: 80 }),
withTiming(3, { duration: 80 }),
withTiming(-2, { duration: 80 }),
withTiming(2, { duration: 80 }),
withTiming(0, { duration: 80 }),
);
};

const inputProps = {
inputRef,
otpValue,
onPress,
onFocusNext,
onFocusPrevious,
setFocus,
setOtpValue,
focus,

    containerStyle,
    otpInputStyle,
    textStyle,
    focusedColor,
    otpCount,
    editable,
    enteringAnimated,
    exitingAnimated,
    error,
    rest,
    inputBorderRadius,
    inputWidth,
    inputHeight,

};

useEffect(() => {
onInputChange && onInputChange(otpValue?.join(""));
if (
otpValue &&
Number(otpValue.join("").length === otpCount) &&
onInputFinished
) {
if (!error) {
triggerCompleteAnimation();
}
onInputFinished(otpValue.join(""));
}
}, [otpValue]);

useEffect(() => {
if (error) {
triggerShakeAnimation();
}
}, [error]);

return (

<OtpContext.Provider value={inputProps as OtpContextProps}>
<Animated.View style={[styles.container]}>
<Animated.View style={[styles.row, animatedContainerStyle]}>
{data.map((\_, i) => {
return <OtpItem key={i} index={i} />;
})}
</Animated.View>
{error && errorMessage && (
<Animated.Text
entering={FadeInDown.duration(200)}
exiting={FadeOutDown.duration(200)}
style={styles.errorMessage} >
{errorMessage}
</Animated.Text>
)}
</Animated.View>
</OtpContext.Provider>
);
};
```

</Accordion>

  <Accordion title="OtpItem.tsx">
```tsx
import { otpInputStyles as styles } from "../styles";
import React, { FC, useContext, useEffect } from "react";
import { Dimensions, Keyboard, Pressable, TextInput, View } from "react-native";
import Animated, {
  LinearTransition,
  useSharedValue,
  withTiming,
} from "react-native-reanimated";
import { OtpContext } from "../context";

interface OtpItemProps {
index: number;
}

export const OtpItem: FC<OtpItemProps> = (props: OtpItemProps) => {
  const {
    inputRef,
    onPress,
    otpValue,
    onFocusNext,
    onFocusPrevious,
    setFocus,
    setOtpValue,
    focus,
    autoFocus,
    containerStyle,
    otpInputStyle,
    textStyle,
    otpCount,
    editable,
    enteringAnimated,
    exitingAnimated,
    error,
    rest,
    inputBorderRadius,
    inputHeight,
    inputWidth,
  } = useContext(OtpContext);

const borderWidth = useSharedValue(focus === props.index ? 2 : 1);
const borderOpacity = useSharedValue(focus === props.index ? 1 : 0.3);

useEffect(() => {
borderWidth.value = withTiming(focus === props.index ? 2 : 1, {
duration: 200,
});
borderOpacity.value = withTiming(focus === props.index ? 1 : 0.3, {
duration: 200,
});
}, [focus]);

useEffect(() => {
if (otpValue) {
if ((otpValue[props.index]?.length ?? 0) > 1) {
const format = otpValue[props.index]?.substring(0, otpCount);
const numbers = format?.split("") ?? [];
setOtpValue(numbers);
setFocus(-1);
Keyboard.dismiss();
}
}
}, [otpValue]);

const getTextStyle = () => {
if (error) {
return [styles.text, styles.textError, textStyle];
}
return [styles.text, textStyle];
};

return (

<View key={props.index} style={[containerStyle]}>
  <TextInput
    style={[
      styles.inputSize,
      otpInputStyle,
      {
        color: "transparent",
        width: inputWidth,
        height: inputHeight,
        borderRadius: inputBorderRadius,
      },
    ]}
    caretHidden
    keyboardType="number-pad"
    ref={inputRef.current[props.index]}
    value={otpValue[props.index]}
    onChangeText={(v) => onFocusNext(v, props.index)}
    onKeyPress={(e) => onFocusPrevious(e.nativeEvent.key, props.index)}
    textContentType="oneTimeCode"
    autoFocus={autoFocus && props.index === 0}
    {...rest}
  />
  <Pressable disabled={!editable} onPress={onPress} style={styles.overlay}>
    <Animated.View
      layout={LinearTransition.springify()}
      style={[
        styles.input,
        styles.inputSize,
        {
          width: inputWidth,
          height: inputHeight,
          borderRadius: inputBorderRadius,
        },
      ]}
      entering={enteringAnimated}
      exiting={exitingAnimated}
    >
      {otpValue[props.index] !== "" && (
        <Animated.Text
          entering={enteringAnimated}
          exiting={exitingAnimated}
          style={getTextStyle()}
        >
          {otpValue[props.index]}
        </Animated.Text>
      )}
    </Animated.View>
  </Pressable>
</View>
); };

````

</Accordion>


<Accordion title="types.ts">
```ts
import {
  type StyleProp,
  type TextInputProps,
  type TextStyle,
  type ViewStyle,
} from "react-native";
import { LinearTransition } from "react-native-reanimated";

export interface IOtpInput {
  otpCount: number;
  containerStyle?: StyleProp<ViewStyle>;
  otpInputStyle?: StyleProp<TextStyle>;
  textStyle?: StyleProp<TextStyle>;
  focusedColor?: string;
  inputWidth?: number;
  inputHeight?: number;
  inputBorderRadius?: number;
  enableAutoFocus?: boolean;
  editable?: boolean;
  onInputFinished?: (code: string) => void;
  onInputChange?: (codes: string) => void;
  enteringAnimated?: typeof LinearTransition;
  exitingAnimated?: typeof LinearTransition;
  error?: boolean;
  errorMessage?: string;
}

export interface OtpContextProps extends IOtpInput {
  inputRef: React.MutableRefObject<any[]>;
  otpValue: string[];
  onPress: () => void;
  onFocusNext: (value: string, index: number) => void;
  onFocusPrevious: (key: string, index: number) => void;
  setFocus: React.Dispatch<React.SetStateAction<number>>;
  setOtpValue: React.Dispatch<React.SetStateAction<string[]>>;
  focus: number;
  autoFocus: boolean;
  currentIndex: number;
  rest?: TextInputProps;
}
````

</Accordion>

  </Accordions>
  </TabsContent>
</Tabs>

### üöÄ Full Example

```tsx
import { View, Text, StyleSheet, Pressable, Alert } from "react-native";
import React, { useState } from "react";
import { LinearTransition } from "react-native-reanimated";
import { Ionicons } from "@expo/vector-icons";
import { OtpInput } from "@/components/base/otp-input/";

const OtpInputExample: React.FC = () => {
  const [otpValue, setOtpValue] = useState<string>("");
  const [isVerifying, setIsVerifying] = useState<boolean>(false);
  const [hasError, setHasError] = useState<boolean>(false);
  const [isSuccess, setIsSuccess] = useState<boolean>(false);

  const handleOtpChange = (code: string): void => {
    setOtpValue(code);
    if (hasError) {
      setHasError(false);
    }
  };

  const handleOtpFinished = async (code: string): Promise<void> => {
    setIsVerifying(true);

    setTimeout(() => {
      if (code === "1234") {
        setIsSuccess(true);
        setHasError(false);
        Alert.alert("Success", "OTP verified successfully!");
      } else {
        setHasError(true);
        setIsSuccess(false);
      }
      setIsVerifying(false);
    }, 1500);
  };

  const handleResendCode = (): void => {
    setOtpValue("");
    setHasError(false);
    setIsSuccess(false);
    Alert.alert(
      "Code Sent",
      "A new verification code has been sent to your device.",
    );
  };

  const clearOtp = (): void => {
    setOtpValue("");
    setHasError(false);
    setIsSuccess(false);
  };

  return (
    <View style={styles.container}>
      <View style={styles.card}>
        {/* Header */}
        <View style={styles.header}>
          <View style={styles.iconContainer}>
            <Ionicons
              name="shield-checkmark-outline"
              size={24}
              color="#10b981"
            />
          </View>
          <Text style={styles.title}>Verify Your Identity</Text>
          <Text style={styles.subtitle}>
            Enter the 4-digit code sent to your device
          </Text>
        </View>

        {/* OTP Input */}
        <View style={styles.otpContainer}>
          <OtpInput
            otpCount={4}
            containerStyle={styles.otpInputContainer}
            otpInputStyle={[
              styles.otpInputStyle,
              hasError && styles.otpInputError,
              isSuccess && styles.otpInputSuccess,
            ]}
            textStyle={styles.otpTextStyle}
            focusedColor={
              hasError ? "#ef4444" : isSuccess ? "#10b981" : "#3b82f6"
            }
            inputWidth={64}
            inputHeight={72}
            inputBorderRadius={12}
            enableAutoFocus={true}
            editable={!isVerifying && !isSuccess}
            onInputChange={handleOtpChange}
            onInputFinished={handleOtpFinished}
            error={hasError}
            errorMessage={
              hasError ? "Invalid code. Please try again." : undefined
            }
          />
        </View>

        {/* Status Messages */}
        <View style={styles.statusContainer}>
          {isVerifying && (
            <View style={styles.statusMessage}>
              <Ionicons name="sync-outline" size={16} color="#6b7280" />
              <Text style={styles.statusText}>Verifying code...</Text>
            </View>
          )}

          {isSuccess && (
            <View style={[styles.statusMessage, styles.successMessage]}>
              <Ionicons name="checkmark-circle" size={16} color="#10b981" />
              <Text style={[styles.statusText, styles.successText]}>
                Verification successful!
              </Text>
            </View>
          )}

          {hasError && (
            <View style={[styles.statusMessage, styles.errorMessage]}>
              <Ionicons name="alert-circle" size={16} color="#ef4444" />
              <Text style={[styles.statusText, styles.errorText]}>
                Invalid code. Please try again.
              </Text>
            </View>
          )}
        </View>

        {/* Action Buttons */}
        <View style={styles.actionContainer}>
          <Pressable
            style={styles.secondaryButton}
            onPress={handleResendCode}
            disabled={isVerifying}
          >
            <Ionicons name="refresh-outline" size={16} color="#6b7280" />
            <Text style={styles.secondaryButtonText}>Resend Code</Text>
          </Pressable>

          <Pressable
            style={styles.secondaryButton}
            onPress={clearOtp}
            disabled={isVerifying}
          >
            <Ionicons name="trash-outline" size={16} color="#6b7280" />
            <Text style={styles.secondaryButtonText}>Clear</Text>
          </Pressable>
        </View>

        {/* Helper Text */}
        <Text style={styles.helperText}>
          Didn't receive a code? Check your spam folder or try again in 60
          seconds.
        </Text>
      </View>
    </View>
  );
};

export default OtpInputExample;

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: "#0a0a0a",
    justifyContent: "center",
    alignItems: "center",
    padding: 20,
  },
  card: {
    backgroundColor: "#1a1a1a",
    borderRadius: 24,
    justifyContent: "center",
    alignItems: "center",
    padding: 32,
    width: "100%",
    maxWidth: 400,
    borderWidth: 1,
    borderColor: "#2a2a2a",
    shadowColor: "#000",
    shadowOffset: {
      width: 0,
      height: 8,
    },
    shadowOpacity: 0.3,
    shadowRadius: 24,
    elevation: 12,
  },
  header: {
    alignItems: "center",
    marginBottom: 32,
  },
  iconContainer: {
    width: 56,
    height: 56,
    borderRadius: 28,
    backgroundColor: "#10b981/10",
    justifyContent: "center",
    alignItems: "center",
    marginBottom: 16,
    borderWidth: 1,
    borderColor: "#10b981/20",
  },
  title: {
    fontSize: 24,
    fontWeight: "600",
    color: "#ffffff",
    marginBottom: 8,
    textAlign: "center",
  },
  subtitle: {
    fontSize: 16,
    color: "#9ca3af",
    textAlign: "center",
    lineHeight: 24,
  },
  otpContainer: {
    marginBottom: 24,
    marginTop: 24,
  },
  otpInputContainer: {
    gap: 12,
  },
  otpInputStyle: {
    backgroundColor: "#111111",
    borderWidth: 1,
    borderColor: "#2a2a2a",
    color: "#ffffff",
    fontSize: 24,
    fontWeight: "600",
    textAlign: "center",
    shadowColor: "#000",
    shadowOffset: {
      width: 0,
      height: 2,
    },
    shadowOpacity: 0.1,
    shadowRadius: 8,
    elevation: 4,
  },
  otpInputError: {
    borderColor: "#ef4444",
    backgroundColor: "#1f1011",
  },
  otpInputSuccess: {
    borderColor: "#10b981",
    backgroundColor: "#0f1f17",
  },
  otpTextStyle: {
    color: "#ffffff",
    fontSize: 24,
    fontWeight: "600",
  },
  statusContainer: {
    minHeight: 24,
    justifyContent: "center",
    marginBottom: 24,
  },
  statusMessage: {
    flexDirection: "row",
    alignItems: "center",
    justifyContent: "center",
    gap: 8,
    paddingVertical: 8,
    paddingHorizontal: 16,
    borderRadius: 8,
    backgroundColor: "#1f1f1f",
  },
  successMessage: {
    backgroundColor: "#0f1f17",
  },
  errorMessage: {
    backgroundColor: "#1f1011",
  },
  statusText: {
    fontSize: 14,
    color: "#9ca3af",
    fontWeight: "500",
  },
  successText: {
    color: "#10b981",
  },
  errorText: {
    color: "#ef4444",
  },
  actionContainer: {
    flexDirection: "row",
    gap: 12,
    marginBottom: 24,
  },
  secondaryButton: {
    flex: 1,
    flexDirection: "row",
    alignItems: "center",
    justifyContent: "center",
    gap: 8,
    paddingVertical: 12,
    paddingHorizontal: 16,
    borderRadius: 12,
    backgroundColor: "#1f1f1f",
    borderWidth: 1,
    borderColor: "#2a2a2a",
  },
  secondaryButtonText: {
    fontSize: 14,
    color: "#9ca3af",
    fontWeight: "500",
  },
  helperText: {
    fontSize: 13,
    color: "#6b7280",
    textAlign: "center",
    lineHeight: 20,
  },
});
```
